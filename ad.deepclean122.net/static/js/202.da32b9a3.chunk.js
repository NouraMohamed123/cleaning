"use strict";(self.webpackChunkcleaning=self.webpackChunkcleaning||[]).push([[202],{81202:function(e,t,i){i.r(t);var s=i(1413),r=i(29439),a=i(47313),n=i(85554),o=i(58467),c=i(50390),l=i(73821),d=i(9019),u=i(24631),p=i(19365),v=i(15103),m=i(14181),b=i(51405),Z=i(15480),f=i(5178),h=i(54299),x=i(83929),g=i(33827),y=i(42832),j=i(75590),C=i(3463),_=i(62563),k=i(75627),w=i(35628),O=i(29814),T=i(81671),S=i(37424),I=i(46417);t.default=function(){var e,t,i,P,B,q=(0,o.UO)().Id,M=(0,j.$G)("pages"),V=(0,r.Z)(M,1)[0],R=(0,o.s0)(),F=(0,n.I0)(),G=(0,n.v9)((function(e){return e.servicesSlice})).servicesData,N=(0,n.v9)((function(e){return e.subscriptionsSlice})),W=N.isLoading,L=N.itemSubscription;a.useEffect((function(){F((0,l.UV)(1)),F((0,c.tJ)(Number(q)))}),[q,F]);var z=S.yR,D=S.$8,H=C.Ry().shape({description:C.Z_().required(V("subscriptions.form.description.helperText")),visits:C.Z_().nullable().required(V("subscriptions.form.visits.helperText")),price:C.Z_().nullable().required(V("subscriptions.form.price.helperText")),duration:C.Z_().nullable().required(V("subscriptions.form.duration.helperText")),service_ids:C.Z_().nullable().required(V("subscriptions.form.service_ids.helperText")),status:C.Z_().oneOf(["active","inactive"],V("subscriptions.form.status.helperText"))}),E=(0,k.cI)({defaultValues:L,resolver:(0,_.X)(H)}),U=E.register,$=E.handleSubmit,J=E.formState,X=E.reset,Y=E.watch,A=J.errors;a.useEffect((function(){X(L)}),[X,L]);var K=(0,I.jsx)(T.Z,{title:V("subscriptions.btn.back"),path:"/suscriptions",bgcolor:"primary.400"});return(0,I.jsx)(O.Z,{children:(0,I.jsx)(w.Z,{title:V("subscriptions.form.title.create"),secondary:K,style:{height:"calc(100vh - 110px)",overflowY:"scroll"},children:(0,I.jsx)("form",{onSubmit:$((function(e){return F((0,c.Mg)(e)).then((function(e){"fulfilled"!==e.meta.requestStatus?D(V("subscriptions.message.error.update")):(X(),z(V("subscriptions.message.success.update")),R("/suscriptions"))}))})),children:(0,I.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,I.jsx)(d.ZP,{item:!0,xs:12,md:6,container:!0,children:(0,I.jsx)(u.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,variant:"filled",type:"text",name:"visits",label:V("subscriptions.form.visits.label")},U("visits")),{},{error:Boolean(A.visits),helperText:null===(e=A.visits)||void 0===e?void 0:e.message}))}),(0,I.jsx)(d.ZP,{item:!0,xs:12,md:6,container:!0,children:(0,I.jsx)(u.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,variant:"filled",type:"number",name:"price",label:V("subscriptions.form.price.label")},U("price")),{},{error:Boolean(A.price),helperText:null===(t=A.price)||void 0===t?void 0:t.message}))}),(0,I.jsx)(d.ZP,{item:!0,xs:12,md:6,container:!0,children:(0,I.jsx)(u.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,variant:"filled",type:"number",name:"duration",label:V("subscriptions.form.duration.label")},U("duration")),{},{error:Boolean(A.duration),helperText:null===(i=A.duration)||void 0===i?void 0:i.message}))}),(0,I.jsx)(d.ZP,{item:!0,xs:12,md:6,container:!0,children:(0,I.jsxs)(p.Z,{fullWidth:!0,error:Boolean(A.service_ids),children:[(0,I.jsx)(v.Z,{id:"service_ids-select-label",children:V("subscriptions.form.service_ids.label")}),(0,I.jsxs)(m.Z,(0,s.Z)((0,s.Z)({labelId:"service_ids-select-label",id:"service_ids-select",variant:"filled",label:V("subscriptions.form.service_ids.label"),defaultValue:"no-option"},U("service_ids")),{},{children:[(0,I.jsx)(b.Z,{value:"no-option",style:{display:"none"}}),G.map((function(e,t){return(0,I.jsx)(b.Z,{value:e.id,children:e.name},t)}))]})),Boolean(A.service_ids)&&(0,I.jsx)(Z.Z,{error:!0,id:"helper-text-service_ids-select-label",children:null===(P=A.service_ids)||void 0===P?void 0:P.message})]})}),(0,I.jsx)(d.ZP,{item:!0,xs:12,md:6,container:!0,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(f.Z,{children:V("subscriptions.form.status.helperText")}),(0,I.jsxs)(h.Z,{row:!0,name:"status",children:[(0,I.jsx)(x.Z,(0,s.Z)({value:"active",control:(0,I.jsx)(g.Z,{checked:"active"==Y("status")}),label:"\u0646\u0634\u0637"},U("status"))),(0,I.jsx)(x.Z,(0,s.Z)({value:"inactive",control:(0,I.jsx)(g.Z,{checked:"inactive"==Y("status")}),label:"\u063a\u064a\u0631 \u0646\u0634\u0637"},U("status")))]})]})}),(0,I.jsx)(d.ZP,{item:!0,xs:12,md:6,container:!0,children:(0,I.jsx)(u.Z,(0,s.Z)((0,s.Z)({fullWidth:!0,multiline:!0,minRows:3,maxRows:5,variant:"filled",type:"text",name:"description",label:V("subscriptions.form.description.label")},U("description")),{},{error:Boolean(A.description),helperText:null===(B=A.description)||void 0===B?void 0:B.message}))}),(0,I.jsx)(d.ZP,{item:!0,xs:12,children:(0,I.jsx)(y.Z,{direction:"row-reverse",children:(0,I.jsx)(T.Z,{title:V("subscriptions.btn.update"),type:"submit",size:"large",loading:W,width:200})})})]})})})})}},51405:function(e,t,i){i.d(t,{Z:function(){return w}});var s=i(4942),r=i(63366),a=i(87462),n=i(47313),o=i(2197),c=i(8007),l=i(13392),d=i(17592),u=i(77342),p=i(51195),v=i(67999),m=i(24993),b=i(86983),Z=i(99273),f=i(37363),h=i(11081),x=i(14363),g=i(1167);function y(e){return(0,g.ZP)("MuiMenuItem",e)}var j=(0,x.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),C=i(46417),_=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(0,d.ZP)(v.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var i=e.ownerState;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]}})((function(e){var t,i=e.theme,r=e.ownerState;return(0,a.Z)({},i.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((i.vars||i).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,s.Z)(t,"&.".concat(j.selected),(0,s.Z)({backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)},"&.".concat(j.focusVisible),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.focusOpacity,"))"):(0,l.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)})),(0,s.Z)(t,"&.".concat(j.selected,":hover"),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.hoverOpacity,"))"):(0,l.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}),(0,s.Z)(t,"&.".concat(j.focusVisible),{backgroundColor:(i.vars||i).palette.action.focus}),(0,s.Z)(t,"&.".concat(j.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity}),(0,s.Z)(t,"& + .".concat(Z.Z.root),{marginTop:i.spacing(1),marginBottom:i.spacing(1)}),(0,s.Z)(t,"& + .".concat(Z.Z.inset),{marginLeft:52}),(0,s.Z)(t,"& .".concat(h.Z.root),{marginTop:0,marginBottom:0}),(0,s.Z)(t,"& .".concat(h.Z.inset),{paddingLeft:36}),(0,s.Z)(t,"& .".concat(f.Z.root),{minWidth:36}),t),!r.dense&&(0,s.Z)({},i.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},i.typography.body2,(0,s.Z)({},"& .".concat(f.Z.root," svg"),{fontSize:"1.25rem"})))})),w=n.forwardRef((function(e,t){var i=(0,u.Z)({props:e,name:"MuiMenuItem"}),s=i.autoFocus,l=void 0!==s&&s,d=i.component,v=void 0===d?"li":d,Z=i.dense,f=void 0!==Z&&Z,h=i.divider,x=void 0!==h&&h,g=i.disableGutters,j=void 0!==g&&g,w=i.focusVisibleClassName,O=i.role,T=void 0===O?"menuitem":O,S=i.tabIndex,I=i.className,P=(0,r.Z)(i,_),B=n.useContext(p.Z),q=n.useMemo((function(){return{dense:f||B.dense||!1,disableGutters:j}}),[B.dense,f,j]),M=n.useRef(null);(0,m.Z)((function(){l&&M.current&&M.current.focus()}),[l]);var V,R=(0,a.Z)({},i,{dense:q.dense,divider:x,disableGutters:j}),F=function(e){var t=e.disabled,i=e.dense,s=e.divider,r=e.disableGutters,n=e.selected,o=e.classes,l={root:["root",i&&"dense",t&&"disabled",!r&&"gutters",s&&"divider",n&&"selected"]},d=(0,c.Z)(l,y,o);return(0,a.Z)({},o,d)}(i),G=(0,b.Z)(M,t);return i.disabled||(V=void 0!==S?S:-1),(0,C.jsx)(p.Z.Provider,{value:q,children:(0,C.jsx)(k,(0,a.Z)({ref:G,role:T,tabIndex:V,component:v,focusVisibleClassName:(0,o.Z)(F.focusVisible,w),className:(0,o.Z)(F.root,I)},P,{ownerState:R,classes:F}))})}))}}]);